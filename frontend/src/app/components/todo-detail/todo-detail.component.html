<div class="todo-detail" [class.desktop]="!dataService.isMobile()">
  <div class="content">
    <div class="todo">
      <div class="todo-main" [class.done]="dataService.selectedTodo.isDone">
        <svg
          (click)="dataService.triggerDone(currentTodo)"
          id="todo-check"
          width="25"
          height="25"
          viewBox="0 0 25 25"
        >
          <g transform="translate(-15 -19.348)">
            <g class="cls-1" transform="translate(15 19.348)">
              <rect class="cls-3" width="25" height="25" rx="8" />
              <rect
                class="cls-4"
                x="0.5"
                y="0.5"
                width="24"
                height="24"
                rx="7.5"
              />
            </g>
            <path
              class="cls-2"
              d="M3.3,14.605l6.828,2.649L9.959,2.687"
              transform="matrix(0.875, 0.485, -0.485, 0.875, 25.947, 19.051)"
            />
          </g>
        </svg>

        <div class="todo-content">
          <p id="todo-name">{{ dataService.selectedTodo.title }}</p>
        </div>
      </div>

      <app-subtodo
        [selectedSubTodo]="subTodo"
        *ngFor="let subTodo of dataService.selectedTodo.subTodos"
      ></app-subtodo>

      <div class="todo-add">
        <svg
          id="add"
          width="15.186"
          height="14.954"
          viewBox="0 0 15.186 14.954"
        >
          <g (click)="addSubTodo()" transform="translate(1 -3.335)">
            <path
              class="cls-1"
              d="M0,0H13.186"
              transform="translate(0 10.881)"
            />
            <path
              class="cls-1"
              d="M0,0H12.954"
              transform="translate(6.653 4.335) rotate(90)"
            />
          </g>
        </svg>

        <div class="todo-content">
          <input
            type="text"
            [(ngModel)]="subTodo$.title"
            placeholder="Next step"
            (keyup.enter)="addSubTodo()"
          />
        </div>
      </div>
    </div>
    <div class="properties">
      <div
        class="reminder"
        (click)="reminderDatePicker.open()"
        [class.selected]="reminderDate"
      >
        <svg width="18.619" height="21.279" viewBox="0 0 18.619 21.279">
          <path
            id="bell-solid"
            class="cls-1"
            d="M9.309,21.279a2.659,2.659,0,0,0,2.659-2.66H6.651A2.659,2.659,0,0,0,9.309,21.279Zm8.952-6.222c-.8-.863-2.305-2.161-2.305-6.412A6.563,6.563,0,0,0,10.639,2.2V1.33a1.329,1.329,0,1,0-2.658,0V2.2A6.563,6.563,0,0,0,2.663,8.645c0,4.252-1.5,5.55-2.305,6.412a1.3,1.3,0,0,0-.358.9,1.331,1.331,0,0,0,1.334,1.33H17.285a1.331,1.331,0,0,0,1.334-1.33A1.3,1.3,0,0,0,18.261,15.057Z"
            transform="translate(0)"
          />
        </svg>
        <div class="content">
          <p *ngIf="!reminderDate" class="main">Erinnern am</p>
          <p *ngIf="reminderDate" class="main">
            {{ reminderDate | date: 'LLL d' }}
          </p>
          <p *ngIf="reminderDate" class="sub">In some days</p>
        </div>
        <mat-form-field class="example-full-width">
          <input
            matInput
            [matDatepicker]="reminderDatePicker"
            placeholder="Choose a date"
            [(ngModel)]="reminderDate"
            (ngModelChange)="reminderChange()"
          />
          <mat-datepicker #reminderDatePicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div
        class="dueto"
        (click)="dueDatePicker.open()"
        [class.selected]="dueDate"
      >
        <svg width="18.469" height="21.107" viewBox="0 0 18.469 21.107">
          <path
            id="calendar-alt-solid"
            class="cls-1"
            d="M0,19.128a1.979,1.979,0,0,0,1.979,1.979H16.49a1.979,1.979,0,0,0,1.979-1.979V7.915H0Zm13.192-8.08a.5.5,0,0,1,.495-.495h1.649a.5.5,0,0,1,.495.495V12.7a.5.5,0,0,1-.495.495H13.687a.5.5,0,0,1-.495-.495Zm0,5.277a.5.5,0,0,1,.495-.495h1.649a.5.5,0,0,1,.495.495v1.649a.5.5,0,0,1-.495.495H13.687a.5.5,0,0,1-.495-.495ZM7.915,11.048a.5.5,0,0,1,.495-.495h1.649a.5.5,0,0,1,.495.495V12.7a.5.5,0,0,1-.495.495H8.41a.5.5,0,0,1-.495-.495Zm0,5.277a.5.5,0,0,1,.495-.495h1.649a.5.5,0,0,1,.495.495v1.649a.5.5,0,0,1-.495.495H8.41a.5.5,0,0,1-.495-.495ZM2.638,11.048a.5.5,0,0,1,.495-.495H4.782a.5.5,0,0,1,.495.495V12.7a.5.5,0,0,1-.495.495H3.133a.5.5,0,0,1-.495-.495Zm0,5.277a.5.5,0,0,1,.495-.495H4.782a.5.5,0,0,1,.495.495v1.649a.5.5,0,0,1-.495.495H3.133a.5.5,0,0,1-.495-.495ZM16.49,2.638H14.511V.66a.662.662,0,0,0-.66-.66H12.532a.662.662,0,0,0-.66.66V2.638H6.6V.66A.662.662,0,0,0,5.936,0H4.617a.662.662,0,0,0-.66.66V2.638H1.979A1.979,1.979,0,0,0,0,4.617V6.6H18.469V4.617A1.979,1.979,0,0,0,16.49,2.638Z"
          />
        </svg>

        <div class="content">
          <p *ngIf="!dueDate" class="main">Fällig bis</p>
          <p *ngIf="dueDate" class="main">{{ dueDate | date: 'LLL d' }}</p>
          <p *ngIf="dueDate" class="sub">In some days</p>
        </div>
        <mat-form-field class="example-full-width">
          <input
            matInput
            [matDatepicker]="dueDatePicker"
            placeholder="Choose a date"
            [(ngModel)]="dueDate"
            (ngModelChange)="dueDateChange()"
          />
          <mat-datepicker #dueDatePicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div
        class="repeat"
        (click)="repeatSet()"
        [class.selected]="repeatInterval"
      >
        <svg width="19.576" height="19.576" viewBox="0 0 19.576 19.576">
          <path
            id="music-and-multimedia"
            class="cls-1"
            d="M19.576,6.473V13.1a4.011,4.011,0,0,1-4.007,4.007h-4.06l.377.377a1.223,1.223,0,1,1-1.73,1.73L7.69,16.752a1.223,1.223,0,0,1,0-1.73l2.466-2.466a1.224,1.224,0,0,1,1.73,1.73l-.377.377h4.06a1.562,1.562,0,0,0,1.56-1.56V6.473a1.562,1.562,0,0,0-1.56-1.56h-.725a1.223,1.223,0,1,1,0-2.447h.725a4.011,4.011,0,0,1,4.007,4.007ZM4.732,14.664H4.007a1.562,1.562,0,0,1-1.56-1.56V6.473a1.562,1.562,0,0,1,1.56-1.56h4.06L7.69,5.29A1.223,1.223,0,1,0,9.42,7.02l2.466-2.466a1.223,1.223,0,0,0,0-1.73L9.42.359a1.224,1.224,0,1,0-1.73,1.73l.377.377H4.007A4.011,4.011,0,0,0,0,6.473V13.1a4.011,4.011,0,0,0,4.007,4.007h.725a1.223,1.223,0,1,0,0-2.447Z"
            transform="translate(0 0)"
          />
        </svg>
        <div class="content">
          <p *ngIf="!repeatInterval" class="main">Wiederholen am</p>
          <p *ngIf="repeatInterval" class="main">{{ repeatInterval }}</p>
          <p *ngIf="repeatInterval" class="sub">Samstag</p>
        </div>
      </div>
      <div
        class="attachment"
        (click)="onClickFileInputButton()"
        [class.selected]="file"
      >
        <svg width="17.501" height="20.001" viewBox="0 0 17.501 20.001">
          <path
            id="paperclip-solid"
            class="cls-1"
            d="M1.69,18.209a6.12,6.12,0,0,1,.054-8.5L9.938,1.328a4.372,4.372,0,0,1,6.276,0,4.547,4.547,0,0,1,0,6.339l-7.143,7.3a2.915,2.915,0,0,1-4.218-.039,3.027,3.027,0,0,1,.057-4.178l5.615-5.736A.625.625,0,0,1,11.409,5l.893.874a.625.625,0,0,1,.009.884L6.7,12.5a.528.528,0,0,0-.025.715.416.416,0,0,0,.613.006l7.143-7.3a2.046,2.046,0,0,0,0-2.844,1.874,1.874,0,0,0-2.7,0L3.531,11.457a3.618,3.618,0,0,0-.047,5.012,3.331,3.331,0,0,0,4.807.011l6.721-6.875A.625.625,0,0,1,15.9,9.6l.894.874a.625.625,0,0,1,.01.884l-6.721,6.875a5.829,5.829,0,0,1-8.39-.019Z"
            transform="translate(0 0)"
          />
        </svg>
        <div class="content">
          <p class="main" *ngIf="!file">Datei hinzufügen</p>
          <p class="main" *ngIf="file">{{ file.name }}</p>
        </div>
        <input
          type="file"
          style="display: none;"
          #fileInput
          accept="image/*"
          (change)="onChangeFileInput()"
        />
      </div>
    </div>
    <div class="notes">
      <input
        class="text"
        id="noteInput"
        type="text"
        [(ngModel)]="notes"
        placeholder="Notiz hinzufügen"
        (keyup.enter)="updateNotes()"
        ng-blur="updateNotes()"
      />
    </div>

    <div class="delete">
      <div class="button" (click)="dataService.deleteTodo(dataService.selectedTodo)">
        Delete ToDo
      </div>
    </div>
  </div>
</div>
